<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>SVG Game</title>
  <script language="JavaScript" src="game.js"></script>

  <style>
    body {
      background-color: black;
    }

    .cat {
      fill: #0084f7;
      box-shadow: 10px 5px 5px red;
      position: relative;
      z-index: 10;
    }

    .platform {
      fill: darkgreen;
    }
  </style>

</head>

<body style="text-align: center" onload="load();">
  <svg width="1200px" height="900px" xmlns="http://www.w3.org/2000/svg" xmlns:xhtml="http://www.w3.org/1999/xhtml"
    xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:a="http://www.adobe.com/svg10-extensions" a:timeline="independent"
    viewBox="0 0 800 600">

    <defs>
      <clipPath id="gameareaclip">
        <rect x="20" y="20" width="600" height="560" />
      </clipPath>
      <pattern id="background_pattern" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
        <rect width="20" height="20" style="fill:yellow" />
        <circle cx="10" cy="10" r="8" style="fill:lightyellow" />
      </pattern>
      <radialGradient id="player_color">
        <stop offset="0.0" style="stop-color:yellow;stop-opacity:1" />
        <stop offset="0.8" style="stop-color:yellow;stop-opacity:1" />
        <stop offset="1.0" style="stop-color:orange;stop-opacity:1" />
      </radialGradient>
    </defs>

    <rect width="100%" height="100%" style="fill:url(#background_pattern);stroke:orange;stroke-width:4" />

    <rect x="20" y="20" width="600" height="560" style="fill:black;stroke:red;stroke-width:5" />

    <!-- Add your button here -->

    <g style="clip-path:url(#gameareaclip)">
      <g transform="translate(20,20)">
        <g id="gamearea" transform="translate(0,0)" width="600" height="560">
          <rect x="0" y="0" width="600" height="560" style="fill:black" />

          <g id="platforms" class="platform">

            <!-- Add your platforms here -->

            <!-- 60 -->
            <rect width="60" height="20" x="0" y="60" />

            <!-- 80 -->
            <rect width="20" height="20" x="40" y="80" />

            <!-- 100 -->
            <rect width="480" height="20" x="40" y="100" />

            <!-- 120 -->
            <rect width="20" height="20" x="60" y="120" />
            <rect width="40" height="20" x="220" y="120" />

            <!-- 140 -->
            <rect width="40" height="20" x="220" y="140" />
            <rect width="40" height="20" x="560" y="140" />

            <!-- 160 -->
            <rect width="120" height="20" x="180" y="160" />
            <rect width="60" height="20" x="540" y="160" />

            <!-- 180 -->
            <rect width="20" height="20" x="0" y="180" />
            <rect width="20" height="20" x="100" y="180" />
            <rect width="20" height="20" x="380" y="180" />
            <rect width="80" height="20" x="520" y="180" />

            <!-- 200 -->
            <rect width="20" height="20" x="0" y="200" />
            <rect width="40" height="20" x="80" y="200" />
            <rect width="80" height="20" x="360" y="200" />

            <!-- 220 -->
            <rect width="160" height="20" x="0" y="220" />
            <rect width="140" height="20" x="320" y="220" />

            <!-- 240 -->
            <rect width="20" height="20" x="240" y="240" />
            <rect width="160" height="20" x="340" y="240" />

            <!-- 260 -->
            <rect width="60" height="20" x="220" y="260" />

            <!-- 280 -->
            <rect width="100" height="20" x="200" y="280" />
            <rect width="40" height="20" x="560" y="280" />

            <!-- 300 -->
            <rect width="100" height="20" x="120" y="300" />
            <rect width="40" height="20" x="280" y="300" />
            <rect width="100" height="20" x="500" y="300" />

            <!-- 320 -->
            <rect width="40" height="20" x="0" y="320" />
            <rect width="60" height="20" x="280" y="320" />
            <rect width="20" height="20" x="380" y="320" />

            <!-- 340 -->
            <rect width="60" height="20" x="0" y="340" />
            <rect width="20" height="20" x="320" y="340" />
            <rect width="60" height="20" x="380" y="340" />

            <!-- 360 -->
            <rect width="120" height="20" x="0" y="360" />
            <rect width="20" height="20" x="320" y="360" />
            <rect width="120" height="20" x="380" y="360" />

            <!-- 380 -->
            <rect width="100" height="20" x="0" y="380" />
            <rect width="20" height="20" x="220" y="380" />
            <rect width="20" height="20" x="580" y="380" />

            <!-- 400 -->
            <rect width="80" height="20" x="180" y="400" />
            <rect width="40" height="20" x="560" y="400" />

            <!-- 420 -->
            <rect width="200" height="20" x="160" y="420" />
            <rect width="60" height="20" x="540" y="420" />

            <!-- 440 -->
            <rect width="100" height="20" x="140" y="440" />
            <rect width="20" height="20" x="440" y="440" />
            <rect width="60" height="20" x="500" y="440" />

            <!-- 460 -->
            <rect width="60" height="20" x="120" y="460" />
            <rect width="60" height="20" x="400" y="460" />

            <!-- 480 -->
            <rect width="40" height="20" x="0" y="480" />
            <rect width="60" height="20" x="380" y="480" />

            <!-- 500 -->
            <rect width="60" height="20" x="0" y="500" />
            <rect width="20" height="20" x="260" y="500" />

            <!-- 520 -->
            <rect width="80" height="20" x="0" y="520" />
            <rect width="20" height="20" x="140" y="520" />
            <rect width="80" height="20" x="240" y="520" />
            <rect width="20" height="20" x="500" y="520" />

            <!-- the floor -->
            <rect width="600" height="20" x="0" y="540" />

          </g>

          <g id="Monster" display="none">
            <use xlink:href="#enemy"/>
          </g>

          <g id="player">
            <use xlink:href="#cat" id="cat_svg" />
            <!-- <use xlink:href="#enemy" id="cat_svg" /> -->

            <text x="25" y="-5" text-anchor="middle" class="small" fill="white">Anonymous</text>
            <!-- <rect width="40" height="30" style="fill:transparent;stroke-width:3;stroke:rgb(255,255,255)" /> -->

          </g>
        </g>
      </g>
    </g>








    <symbol id="cat">
      <filter id="white-glow">
        <feFlood result="flood" flood-color="#ffffff" flood-opacity="3"></feFlood>
        <feComposite in="flood" result="mask" in2="SourceGraphic" operator="in"></feComposite>
        <feMorphology in="mask" result="dilated" operator="dilate" radius="20"></feMorphology>
        <feGaussianBlur in="dilated" result="blurred" stdDeviation="20"></feGaussianBlur>

        <feGaussianBlur in="SourceGraphic" result="source_blurred" stdDeviation="2"></feGaussianBlur>
        <feMerge>
          <feMergeNode in="blurred"></feMergeNode>
          <feMergeNode in="source_blurred"></feMergeNode>
        </feMerge>
      </filter>

      <g class="cat" filter="url(#white-glow)" transform="scale(0.075 0.075)    translate(-65 16)">
        <g>
          <title>Layer 1</title>
          <path
            d="m123,366c3,-25 1.75,-43.75 3.5,-52.5c1.75,-8.75 9.83333,9.33333 22,-31.5c12.16667,-40.83333 1.33333,-63.66667 13,-103.5l-25,-49.5l-11,-20l-24,-18l-5,-61l11,-1l13,58l22,23l32,36c7.66667,9.16667 10.16667,0.83333 26.5,16c16.33333,15.16667 189.66667,-18.66667 284,-3l52.5,-38l9,38l16,11.33333l11.33333,29.33334l12,13.66666c-5.33333,7 -8.66666,11 -17.66666,17.66667c-9,6.66667 -22.66667,-4.66667 -37.66667,-9l-36,28l48.33333,107c4,0.11111 6.88889,-2.72223 12,0.33333c5.11111,3.05556 11.22223,6.11111 12.33334,13.66667l-0.66667,9c-10.66667,-0.33333 -34.5,2 -34,-7.5c0.5,-9.5 -75.5,-82 -70,-95.5l-25,6c-9.66667,31.33333 -23.33333,66.66667 -33,98c5.44444,2.55556 12.88889,0.61111 16.33333,7.66667c3.44444,7.05556 -1.66666,7.66666 -10.33333,11.66666c-8.66667,4 -15.33333,-6.66667 -24,-17l9,-100.33333c-33.33333,-5.33333 -95.66667,-1.66667 -134,11l3,43l17,27l30,21c4.33333,1.33333 -0.41667,-1.66667 13,4c13.41667,5.66667 4.58333,13.58333 -4,20l-13,-1l-67,-53l-35.5,-59c-20.75,5.41667 -18,15.33333 -44.25,31.75l-19.75,10.75l-1.75,16.75l2.75,25.25c4.08333,0 15.75,9.41667 18.5,15c2.75,5.58333 -7.5,7.16667 -20.5,6.5l-15.75,-19 Z">
          </path>
          <animate attributeName="display" values="inline;none;none" dur="0.7s" repeatCount="indefinite" />
        </g>

        <g>
          <title>Layer 2</title>
          <path
            d="m185.6,164.8c90.33333,-15 205.06667,-2.13333 295.4,-4.8l58,-40l8,42l20,9l8,29l12,14l-23,23l-29,-16l-32,16l-8,13l34,83l1,18c-3.55556,5.22222 -4.77778,13.11111 -10.66667,15.66667c-5.88889,2.55556 -8.66666,-3 -12.33333,-5.66667l7,-14l-26,-27l-3,68l15,3l9,7l-9,11c-8,-1 -12,-1.66667 -24,-3c-12,-1.33333 -26,-77.33333 -39,-116c-66.33333,9 -120.33333,-5.66667 -181,3l5,36l22,31l48,26l13.33333,11.33333c5.88889,6.77778 -1.44444,9.11111 -10.66666,12c-9.22222,2.88889 -61.77778,-33.55555 -92.66667,-50.33333l-15,-46l-28,-17l-59.66667,27.66667l-30,38.33333l5.66667,16c3.66667,4.88889 10.33333,10.88889 11,14.66667c0.66667,3.77778 -4.66667,8.22222 -7,12.33333l-27.33333,-24l19.33333,-82l36,-43l12,-79l-32.8,-109.8l-57.2,-36.2l17,-8l57,36c4,18.4 8,36.8 12,55.2l22.4,38.8 z">
          </path>
          <animate attributeName="display" values="none;inline;none" dur="0.7s" repeatCount="indefinite" />
        </g>

        <g>
          <title>Layer 3</title>
          <path
            d="m211.5,163.5l270.5,-5l54.5,-38l14,40l13,11.5l10,25l13,16l-23,20.5l-34,-12.5l-28.5,28.5l48,63.5c1.5,6.5 8.21428,11.95238 4.5,19.5c-3.71428,7.54762 -6,14.80952 -12,17.5l-6.85714,-2.71429c-2.14286,-3.5 0.28571,-16.14285 3,-23.07142l-89.42857,-41.71429l-9.71429,99.5l15,4.5c0,0 -3.5,7.5 -3,8c0.5,0.5 -16.5,-1 -16.5,-1c0,0 -14.5,-12.5 -14.5,-12.5c0,0 -21.7,-90.3 -20.5,-95.5c1.2,-5.2 -166.78571,-15.15714 -163.08571,-8.67143c3.7,6.48571 -20.47143,51.92857 -21.61429,53.07143c-1.14286,1.14286 17.7,43.1 17.7,43.1c0,0 15,13 15,12.5c0,-0.5 0,10 0,10c0,0 -16.5,0 -16.5,0c0,0 -37.5,-52.5 -37.5,-52.5c0,0 -4.5,-17.5 2.5,-30c7,-12.5 -30,18 -30,18c0,0 -16.5,14 -16,22c0.5,8 -2.25,28.75 0.5,33.25c2.75,4.5 8,0 10.5,1.25c2.5,1.25 5.25,8.75 2,12c-3.25,3.25 -25,-2.5 -25,-2.5c0,0 -13.5,-92 -2.75,-97.75c10.75,-5.75 11.75,-39.25 11.75,-39.25c0,0 14,-78 14,-78c0,0 -21.5,-53.5 -21.5,-53.5c0,0 -11.5,-29.5 -11.5,-29.5c0,0 -51,-67.5 -51,-67.5c0,0 16,-12.5 16,-12.5c0,0 45.5,68.5 45.5,68.5c0,0 36.5,59.5 36.5,59.5 Z">
          </path>
          <animate attributeName="display" values="none;none;inline" dur="0.7s" repeatCount="indefinite" />
        </g>

      </g>

    </symbol>

    <filter id="ghost_fire">
      <feFlood in="SourceGraphic" result="flood" flood-color="rgba(0, 255, 0, 0.8)" flood-opacity="3"></feFlood>
      <feComposite in="flood" result="mask" in2="SourceGraphic" operator="in"></feComposite>
      <feMorphology in="mask" result="dilated" operator="dilate" radius="30"></feMorphology>
      <feGaussianBlur in="dilated" result="blurred" stdDeviation="20"></feGaussianBlur>

      <feTurbulence x="0" y="0" baseFrequency="0.05" numOctaves="5" seed="3">
          <animate attributeName="baseFrequency" dur=20s values="0.02;0.1;0.02" repeatCount="indefinite" />
      </feTurbulence>
      <feDisplacementMap in="SourceGraphic" out="dis" scale="30">
          <animate attributeName="scale" dur=11s values="20;40;20" repeatCount="indefinite" />
      </feDisplacementMap>
      <feMorphology in="dis" result="dilated" operator="dilate" radius="5"></feMorphology>
      <feGaussianBlur in="dis" out="result" stdDeviation="5" />



      <feMerge>
          <feMergeNode in="blurred"></feMergeNode>
          <feMergeNode in="result"></feMergeNode>
      </feMerge>


      <!-- <feTurbulence x="0" y="0" baseFrequency="0.05" numOctaves="2" seed="3">
        <animate attributeName="baseFrequency" dur=20s values="0.02;0.1;0.02" repeatCount="indefinite" />
      </feTurbulence>
      <feDisplacementMap in="SourceGraphic" out="dis" scale="30" />
      <feGaussianBlur in="dis" out="result" stdDeviation="5" />



      <feMerge>
        <feMergeNode in="result"></feMergeNode>
      </feMerge> -->


    </filter>


    <symbol id="enemy">

      <!-- filter="url(#ghost_fire)" -->
      <!-- viewBox="0 0 530 530" height="40" width="40" -->
      <g z-index=10 transform="scale(0.0754,0.0754)" filter="url(#ghost_fire)" >

        <!-- <animate attributeName="x" values="-20;20;-20" dur="10s" repeatCount="indefinite" /> -->
        <path style="fill:rgba(0, 255, 0, 0.37);" d="M456.693,307.136c4.736,111.344-90.336,201.792-201.792,201.792S53.125,418.576,53.125,307.136
            c0,0-1.952-96.448,22.96-139.856c0,0,7.12,45.552,40.576,62.64s42.704,30.608,42.704,30.608S88.901,123.856,248.341,0
            c0,0-15.664,63.344,17.792,88.256s45.552,67.616,42,98.224c0,0,33.456-24.208,24.912-81.136c0,0,46.272,28.464,44.128,172.96
            c0,0,51.952-3.552,34.16-91.104C411.333,187.2,452.965,219.232,456.693,307.136z">
          <animate attributeName="x" values="-20;20;-20" dur="3s" repeatCount="indefinite" />
        </path>
        <path style="fill:#0f0;" d="M148.997,400c0,0,8.4,113.728,115.664,109.856c0,0,90.464-1.296,96.288-98.864
            c0,0-52,40.208-51.504-23.904c0.08-11.408,3.264-22.528,8.336-32.752c5.808-11.744,12.736-32.688,8.288-60.96
            c0,0-12.768,55.584-42.656,28.432c-17.872-16.24-24.864-30.416-17.44-94.992c0,0-21.696,18.848-27.52,62.448
            c-1.104,8.256-6.912,15.488-15.04,17.296c-8,1.776-17.856-1.568-25.28-22.032c0,0-16.8,24.448,9.04,83.856
            c0,0,7.104,28.384-16.16,40.016S148.997,400,148.997,400z" >
          <animate attributeName="x" values="20;-20;20" dur="3s" repeatCount="indefinite" />
        </path>
      </g>
    </symbol>

  </svg>
</body>

</html>